{"version":3,"sources":["components/registration.module.css","components/welcome-message.module.css","components/login.module.css","components/navigation.module.css","components/topic-list.module.css","components/new-topic.module.css","components/profile.module.css","components/new-message.module.css","layout/content.module.css","layout/footer.module.css","layout/header.module.css","components/message.module.css","components/topic.module.css","components/user-list.module.css","utilities/user.js","utilities/services.js","components/login.jsx","components/navigation.jsx","layout/header.jsx","components/registration.jsx","components/topic-list.jsx","components/new-topic.jsx","components/protected-route.jsx","components/message.jsx","components/profile.jsx","components/new-message.jsx","components/topic.jsx","components/welcome-message.jsx","components/user-list.jsx","layout/content.jsx","layout/footer.jsx","App.js","index.js"],"names":["module","exports","userData","window","localStorage","getItem","user","JSON","parse","subscribers","getUser","setUser","setItem","stringify","forEach","x","BASE_URL","API","getAllUsers","fetch","then","res","json","getAllMessages","sendMessage","username","topic_id","message","headers","method","body","getAllTopics","Login","useState","setUsername","password","setPassword","infoMessage","setInfoMessage","className","styles","form","container","htmlFor","type","input","id","placeholder","value","onChange","e","target","onBlur","trim","button","onClick","preventDefault","data","success","catch","error","toString","Navigation","history","useHistory","Object","keys","length","isLoggedIn","setIsLoggedIn","useEffect","func","push","navigation","to","link","user_id","Header","header","title","Registration","name","surname","email","setUserData","confirmPassword","setConfirmPassword","allUsers","setAllUsers","users","onSubmit","isValidData","prevState","registerUser","undefined","find","isUsernameTaken","isEmailTaken","test","validateConfirmPassword","TopicList","topics","setTopics","a","async","messages","tmp","map","topic","topicMessages","filter","msg","sort","b","timestamp","no_of_messages","first_message","last_message","f","topicList","controls","select","console","log","reverse","key","Date","toLocaleString","NewTopic","topicTitle","setTopicTitle","setMessage","msg_data","pathname","state","ProtectedRoute","RenderedComponent","render","rest","props","Message","datetime","info","toLocaleDateString","weekday","year","month","day","toLocaleTimeString","Profile","params","useParams","userMessages","setUserMessages","userInfo","message_id","NewMessage","setClick","Topic","location","click","setMessages","i","setInterval","clearInterval","titleContainer","WelcomeMessage","text","UserList","setUsers","main","exact","path","component","topicContainer","footer","scrollTo","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.bccd7b31.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"registration_form__2QZlb\",\"title\":\"registration_title__AGQOU\",\"infoMessage\":\"registration_infoMessage__2979W\",\"button\":\"registration_button__2tQkW\",\"input\":\"registration_input__1RKhR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"welcome-message_container__2fH2E\",\"text\":\"welcome-message_text__2u-O-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"login_container__2sfGJ\",\"infoMessage\":\"login_infoMessage__3ytZJ\",\"input\":\"login_input__3J825\",\"button\":\"login_button__2l1WW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigation\":\"navigation_navigation__1we06\",\"link\":\"navigation_link__wgqQX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topicList\":\"topic-list_topicList__3h4iv\",\"controls\":\"topic-list_controls__1E68C\",\"title\":\"topic-list_title__Z6Day\",\"select\":\"topic-list_select__3sL_I\",\"button\":\"topic-list_button__VMU40\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"new-topic_form__1yqTn\",\"infoMessage\":\"new-topic_infoMessage__XhYrh\",\"input\":\"new-topic_input__11rw3\",\"button\":\"new-topic_button__G2YkO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"profile_message__1VhH4\",\"userInfo\":\"profile_userInfo__2hXgE\",\"title\":\"profile_title__1F3Fm\",\"topic\":\"profile_topic__2Nm17\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"new-message_form__2mzK9\",\"infoMessage\":\"new-message_infoMessage__Ww_ZN\",\"input\":\"new-message_input__37WxQ\",\"button\":\"new-message_button__12mAS\",\"container\":\"new-message_container__1XfZK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"content_main__2YHpf\",\"container\":\"content_container__1ms4z\",\"topicContainer\":\"content_topicContainer__2wuuj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"footer_footer__2jeHA\",\"link\":\"footer_link__3tKm7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__3_vZA\",\"title\":\"header_title__KjB3w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"message_message__4BRat\",\"info\":\"message_info__3Q0dT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topic\":\"topic_topic__3wczx\",\"titleContainer\":\"topic_titleContainer__3BzJT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"user-list_container__3eHCN\"};","let userData = window.localStorage.getItem('user');\nlet user = (userData === null) ? {} : JSON.parse(userData);\n\nlet subscribers = [];\n\nexport const getUser = () => {\n  return user;\n};\n\nexport const setUser = (userData) => {\n  user = userData;\n  window.localStorage.setItem('user', JSON.stringify(user));\n  subscribers.forEach(x => x());\n};\n\nexport const subscribe = (func) => {\n  subscribers.push(func);\n}","const BASE_URL = 'https://coetus.herokuapp.com';\nconst API = '/api/forum';\nconst USERS = '/users';\nconst MESSAGE = '/message';\nconst TOPICS = '/topics';\n\nexport const getAllUsers = () => {\n  return fetch(`${BASE_URL}${API}${USERS}`)\n    .then(res => res.json());\n}\n\nexport const registerUser = (userData) => {\n  return fetch(`${BASE_URL}${API}${USERS}`, {\n    headers: {\n      'Content-Type': 'application/json; charset=utf-8'\n    },\n    method: 'PUT',\n    body: JSON.stringify(userData)\n  })\n    .then(res => res.json());\n}\n\nexport const loginUser = (userData) => {\n  return fetch(`${BASE_URL}${API}${USERS}`, {\n    headers: {\n      'Content-Type': 'application/json; charset=utf-8'\n    },\n    method: 'POST',\n    body: JSON.stringify(userData)\n  })\n    .then(res => res.json());\n}\n\nexport const getUserInfo = (user_id) => {\n  return fetch(`${BASE_URL}${API}${USERS}/${user_id}`)\n    .then(res => res.json());\n}\n\nexport const getAllMessages = () => {\n  return fetch(`${BASE_URL}${API}${MESSAGE}`)\n    .then(res => res.json());\n}\n\nexport const getTopicMessages = (topic_id) => {\n  return fetch(`${BASE_URL}${API}${MESSAGE}/${topic_id}`)\n    .then(res => res.json());\n}\n\n\nexport const sendMessage = (username, topic_id, message) => {\n  return fetch(`${BASE_URL}${API}${MESSAGE}`, {\n    headers: {\n      'Content-Type': 'application/json; charset=utf-8'\n    },\n    method: 'PUT',\n    body: JSON.stringify({\n      username,\n      topic_id,\n      message\n    })\n  })\n    .then(res => res.json());\n}\n\nexport const getAllTopics = () => {\n  return fetch(`${BASE_URL}${API}${TOPICS}`)\n    .then(res => res.json());\n}\n\nexport const addNewTopic = (user_id, title) => {\n  return fetch(`${BASE_URL}${API}${TOPICS}`, {\n    headers: {\n      'Content-Type': 'application/json; charset=utf-8'\n    },\n    method: 'PUT',\n    body: JSON.stringify({\n      user_id,\n      title\n    })\n  })\n    .then(res => res.json());\n}","import React, { useState } from 'react';\nimport { loginUser } from '../utilities/services';\nimport { setUser } from '../utilities/user';\nimport styles from './login.module.css';\n\nconst Login = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [infoMessage, setInfoMessage] = useState('');\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    if (username === '' && password === '') {\n      return setInfoMessage('Унеси корисничко име и шифру.');\n    }\n    if (username === '') {\n      return setInfoMessage('Унеси корисничко име.');\n    }\n    if (password === '') {\n      return setInfoMessage('Унеси шифру.');\n    }\n    loginUser({ username, password })\n      .then(data => {\n        if (data.success === true) {\n          setUser(data.user);\n          setInfoMessage('');\n        } else {\n          setInfoMessage('Погрешно корисничко име или шифра')\n        }\n      })\n      .catch(error => setInfoMessage(`ГРЕШКА: ${error.toString()}`));\n  }\n\n  return (\n    <form className={styles.form}>\n\n      <div className={styles.container}>\n        <div>\n          <label htmlFor=\"login-username\"></label>\n          <input type=\"text\" className={styles.input} id=\"login-username\" placeholder=\"Enter username\" value={username} onChange={e => setUsername(e.target.value)} onBlur={e => setUsername(e.target.value.trim())} />\n        </div>\n        <div>\n          <label htmlFor=\"login-password\"></label>\n          <input type=\"password\" className={styles.input} id=\"login-password\" placeholder=\"Enter password\" value={password} onChange={e => setPassword(e.target.value)} onBlur={e => setPassword(e.target.value.trim())} />\n        </div>\n        <input type=\"submit\" className={styles.button} value=\"Пријави се\" onClick={handleClick} />\n      </div>\n      <p className={styles.infoMessage}>{infoMessage}</p>\n    </form>\n  );\n};\n\nexport default Login;","import React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { setUser, getUser, subscribe } from '../utilities/user';\nimport styles from './navigation.module.css';\nimport Login from './login';\n\nconst Navigation = () => {\n  const history = useHistory();\n  const [isLoggedIn, setIsLoggedIn] = useState(Object.keys(getUser()).length !== 0);\n\n  useEffect(() => {\n    subscribe(() => {\n      setIsLoggedIn(Object.keys(getUser()).length !== 0);\n      history.push('/topiclist');\n    });\n  }, [history]);\n\n  const handleClick = () => {\n    setUser({});\n  };\n\n  if (isLoggedIn) {\n    return (\n      <nav>\n        <ul className={styles.navigation}>\n          <li><Link to=\"/topiclist\" className={styles.link}>Теме</Link></li>\n          <li><Link to={`/profile/${getUser().user_id}`} className={styles.link}>Профил</Link></li>\n          <li><Link to=\"/userlist\" className={styles.link}>Корисници</Link></li>\n          <li><Link to=\"/\" onClick={handleClick} className={styles.link}>Одјави се</Link ></li>\n        </ul>\n      </nav>\n    );\n  }\n\n  return (\n    <Login />\n  );\n};\n\nexport default Navigation;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './header.module.css';\nimport Navigation from '../components/navigation';\n\nconst Header = () => {\n  return (\n    <header className={styles.header}>\n      <h1><Link to=\"/\" className={styles.title}>Форум</Link></h1>\n      <Navigation />\n    </header>\n  );\n};\n\nexport default Header;","import React, { useState, useEffect } from 'react';\nimport styles from './registration.module.css';\nimport { registerUser, getAllUsers } from '../utilities/services';\nimport { setUser } from '../utilities/user';\nimport { useHistory } from 'react-router-dom';\n\nconst Registration = () => {\n  const history = useHistory();\n  const [userData, setUserData] = useState({\n    name: '',\n    surname: '',\n    username: '',\n    email: '',\n    password: ''\n  });\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [infoMessage, setInfoMessage] = useState({\n    name: '',\n    surname: '',\n    username: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const [allUsers, setAllUsers] = useState([]);\n\n  useEffect(() => {\n    getAllUsers()\n      .then(data => {\n        if (data.success) {\n          setAllUsers(data.users);\n        }\n      })\n  }, []);\n\n  const handleSubmit = (e) => {\n    let isValidData = true;\n    e.preventDefault();\n\n    if (userData.name.trim() === '') {\n      setInfoMessage(prevState => ({\n        ...prevState,\n        name: 'Унеси име.'\n      }));\n      isValidData = false;\n    }\n\n    if (userData.surname.trim() === '') {\n      setInfoMessage(prevState => ({\n        ...prevState,\n        surname: 'Унеси презиме.'\n      }));\n      isValidData = false;\n    }\n\n    if (userData.username.trim() === '') {\n      setInfoMessage(prevState => ({\n        ...prevState,\n        username: 'Унеси корисничко име.'\n      }));\n      isValidData = false;\n    }\n\n    if (userData.email.trim() === '') {\n      setInfoMessage(prevState => ({\n        ...prevState,\n        email: 'Унеси емаил.'\n      }));\n      isValidData = false;\n    }\n\n    if (userData.password.trim() === '') {\n      setInfoMessage(prevState => ({\n        ...prevState,\n        password: 'Неисправна шифра! Шифра мора садржати једно мало, велико слово и број и имати бар 8 карактера.'\n      }));\n      isValidData = false;\n    }\n\n    if (userData.password !== confirmPassword) {\n      setInfoMessage(prevState => ({\n        ...prevState,\n        confirmPassword: 'Шифре нису исте.'\n      }));\n      isValidData = false;\n    }\n\n    if (isValidData) {\n      registerUser(userData)\n        .then(data => {\n          if (data.success) {\n            setUser(data.user);\n            history.push('/topiclist');\n          }\n        });\n    }\n  };\n\n  const isUsernameTaken = (e) => {\n    let user = allUsers.find(({ username }) => username === e.target.value.trim());\n    if (user !== undefined) {\n      return setInfoMessage({\n        ...infoMessage,\n        username: 'Корисничко име је заузето!'\n      });\n    }\n    setInfoMessage({\n      ...infoMessage,\n      username: ''\n    });\n  };\n\n  const isEmailTaken = (e) => {\n    let user = allUsers.find(({ email }) => email === e.target.value.trim());\n    if (user !== undefined) {\n      return setInfoMessage({\n        ...infoMessage,\n        email: 'Е-маил је већ у употреби!'\n      });\n    }\n    setInfoMessage({\n      ...infoMessage,\n      email: ''\n    });\n  };\n\n  const validateName = (name) => {\n    setUserData({ ...userData, name: name.trim() });\n    if (name.trim() === '') {\n      setInfoMessage({\n        ...infoMessage,\n        name: 'Унеси име.'\n      });\n    } else {\n      setInfoMessage({\n        ...infoMessage,\n        name: ''\n      });\n    }\n  };\n\n  const validateSurname = (surname) => {\n    setUserData({ ...userData, surname: surname.trim() });\n    if (surname.trim() === '') {\n      setInfoMessage({\n        ...infoMessage,\n        surname: 'Унеси презиме.'\n      });\n    } else {\n      setInfoMessage({\n        ...infoMessage,\n        surname: ''\n      });\n    }\n  };\n\n  const validateUsername = (username) => {\n    setUserData({ ...userData, username: username.trim() });\n    if (username.trim() === '') {\n      setInfoMessage({\n        ...infoMessage,\n        username: 'Унеси корисничко име.'\n      });\n    } else {\n      setInfoMessage({\n        ...infoMessage,\n        username: ''\n      });\n    }\n  };\n\n  const validateEmail = (email) => {\n    setUserData({ ...userData, email: email.trim() });\n    if (email.trim() === '') {\n      setInfoMessage({\n        ...infoMessage,\n        email: 'Унеси е-маил.'\n      });\n    } else {\n      setInfoMessage({\n        ...infoMessage,\n        email: ''\n      });\n    }\n  };\n\n  const validatePassword = (password) => {\n    if (!(/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/).test(password)) {\n      setInfoMessage({\n        ...infoMessage,\n        password: 'Неисправна шифра! Шифра мора садржати једно мало, велико слово и број и имати бар 8 карактера.'\n      });\n    } else {\n      setInfoMessage({\n        ...infoMessage,\n        password: ''\n      });\n    }\n  };\n\n  const validateConfirmPassword = (confirmPassword) => {\n    setConfirmPassword(confirmPassword.trim());\n    if (confirmPassword.trim() !== userData.password) {\n      setInfoMessage({\n        ...infoMessage,\n        confirmPassword: 'Шифре нису исте.'\n      });\n    } else {\n      setInfoMessage({\n        ...infoMessage,\n        confirmPassword: ''\n      });\n    }\n  };\n\n  return (\n    <form className={styles.form} onSubmit={handleSubmit}>\n      <h2 className={styles.title}>Придружи се</h2>\n      <label htmlFor=\"name\">\n        Име: <span className={styles.infoMessage}>{infoMessage.name}</span>\n      </label>\n      <br />\n      <input className={styles.input} type=\"text\" id=\"name\" value={userData.name} onChange={e => validateName(e.target.value)} />\n      <br />\n      <label htmlFor=\"surname\">\n        Презиме: <span className={styles.infoMessage}>{infoMessage.surname}</span>\n      </label>\n      <br />\n      <input className={styles.input} type=\"text\" id=\"surname\" value={userData.surname} onChange={e => validateSurname(e.target.value)} />\n      <br />\n      <label htmlFor=\"username\">\n        Корисничко име: <span className={styles.infoMessage}>{infoMessage.username}</span>\n      </label>\n      <br />\n      <input className={styles.input} type=\"text\" id=\"username\" value={userData.username} onChange={e => {\n        validateUsername(e.target.value);\n        isUsernameTaken(e);\n      }} />\n      <br />\n      <label htmlFor=\"email\">\n        Е-маил: <span className={styles.infoMessage}>{infoMessage.email}</span>\n      </label>\n      <br />\n      <input className={styles.input} type=\"email\" id=\"email\" value={userData.email} onChange={e => {\n        validateEmail(e.target.value);\n        isEmailTaken(e);\n      }} />\n      <br />\n      <label htmlFor=\"password\">\n        Шифра: <span className={styles.infoMessage}>{infoMessage.password}</span>\n      </label>\n      <br />\n      <input className={styles.input} type=\"password\" id=\"password\" value={userData.password} onChange={e => setUserData({ ...userData, password: e.target.value })} onBlur={e => validatePassword(e.target.value.trim())} />\n      <br />\n      <label htmlFor=\"confirm-password\">\n        Понови шифру: <span className={styles.infoMessage}>{infoMessage.confirmPassword}</span>\n      </label>\n      <br />\n      <input className={styles.input} type=\"password\" id=\"confirm-password\" value={confirmPassword} onChange={e => {\n        validateConfirmPassword(e.target.value);\n      }} />\n      <br />\n      <input className={styles.button} type=\"submit\" value=\"Региструј се!\" />\n    </form>\n  );\n};\n\nexport default Registration;","import React, { useEffect, useState } from 'react';\nimport styles from './topic-list.module.css';\nimport { getAllTopics, getAllMessages } from '../utilities/services';\nimport { useHistory } from 'react-router-dom';\n\nconst TopicList = () => {\n  const history = useHistory();\n  const [topics, setTopics] = useState([]);\n\n  async function f() {\n    let data = await getAllTopics();\n    let messages = await getAllMessages();\n    if (data.success) {\n      let tmp = data.topics.map(topic => {\n        if (messages.success) {\n          let topicMessages = messages.data.filter(msg => msg.topic_id === topic.topic_id);\n          topicMessages = topicMessages.sort((a, b) => a.timestamp - b.timestamp);\n\n          return ({\n            ...topic,\n            no_of_messages: topicMessages.length,\n            first_message: topicMessages[0] || {},\n            last_message: topicMessages[topicMessages.length - 1] || {}\n          });\n        }\n        return ({});\n      });\n      setTopics(tmp);\n    }\n  }\n\n  useEffect(() => {\n    f();\n  }, []);\n\n  const handleClick = () => {\n    let tmp = [...topics];\n    setTopics(tmp.reverse());\n  };\n\n  const handleChange = (e) => {\n    let tmp = [...topics];\n\n    switch (e.target.value) {\n      case 'date-created':\n        setTopics(tmp.sort((a, b) => b.timestamp - a.timestamp));\n        break;\n      case 'last-comment':\n        setTopics(tmp.sort((a, b) => {\n          if (!a.last_message.timestamp) {\n            return 1;\n          }\n          if (!b.last_message.timestamp) {\n            return -1;\n          }\n\n          return b.last_message.timestamp - a.last_message.timestamp;\n        }));\n        break;\n      case 'number-of-comments':\n        setTopics(tmp.sort((a, b) => b.no_of_messages - a.no_of_messages));\n        break;\n      default:\n        console.log('Something went wrong!');\n    }\n  }\n\n  return (\n    <section className={styles.topicList}>\n      <div className={styles.controls}>\n        <h2 className={styles.title}>Теме</h2>\n        <div>\n          <select className={styles.select} onChange={handleChange}>\n            <option value=\"date-created\">Датум објављивања</option>\n            <option value=\"last-comment\">Последње коментарисано</option>\n            <option value=\"number-of-comments\">Број коментара</option>\n          </select>\n          <button className={styles.button} onClick={handleClick}>⇅</button>\n        </div>\n      </div>\n      <table>\n        <thead>\n          <tr>\n            <th>Наслов</th>\n            <th>Датум прављења</th>\n            <th>Последња порука</th>\n            <th>Број порука</th>\n            <th>Прва порука</th>\n          </tr>\n        </thead>\n        <tbody>\n          {\n            topics.map(topic => (\n              <tr key={topic.topic_id} onClick={() => history.push(`/topic/${topic.topic_id}`, { topic })}>\n                <td>{topic.title.toString()}</td>\n                <td>{new Date(topic.timestamp).toLocaleString()}</td>\n                <td>{topic.last_message.username}<br />\n                  {\n                    new Date(topic.last_message.timestamp).toLocaleString() === 'Invalid Date'\n                      ? 'Нема порука'\n                      : new Date(topic.first_message.timestamp).toLocaleString()\n                  }\n                </td>\n                <td>{topic.no_of_messages}</td>\n                <td>{topic.first_message.username}<br />\n                  {\n                    new Date(topic.first_message.timestamp).toLocaleString() === 'Invalid Date'\n                      ? 'Нема порука'\n                      : new Date(topic.first_message.timestamp).toLocaleString()\n                  }\n                </td>\n              </tr>\n            ))\n          }\n        </tbody>\n      </table>\n    </section >\n  );\n};\n\nexport default TopicList;","import React, { useState } from 'react';\nimport styles from './new-topic.module.css';\nimport { addNewTopic, sendMessage } from '../utilities/services';\nimport { getUser } from '../utilities/user';\nimport { useHistory } from 'react-router-dom';\n\nconst NewTopic = () => {\n  const history = useHistory();\n  const [topicTitle, setTopicTitle] = useState('');\n  const [message, setMessage] = useState('');\n  const [infoMessage, setInfoMessage] = useState('');\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    if (message === '' && topicTitle === '') {\n      return setInfoMessage('Унеси наслов теме и прву поруку.');\n    }\n    if (message === '') {\n      return setInfoMessage('Унеси прву поруку.');\n    }\n    if (topicTitle === '') {\n      return setInfoMessage('Унеси наслов теме.');\n    }\n\n    addNewTopic(getUser().user_id, topicTitle)\n      .then(data => {\n        if (data.success) {\n          sendMessage(getUser().username, data.topic.topic_id, message)\n            .then(msg_data => {\n              if (msg_data.success) {\n                history.push({\n                  pathname: `/topic/${data.topic.topic_id}`,\n                  state: { topic: data.topic }\n                });\n              }\n            });\n        }\n      });\n  };\n\n  return (\n    <form className={styles.form}>\n      <h4>Додај нову тему</h4>\n      <label htmlFor=\"topic-title\">Наслов:</label>\n      <input className={styles.input} type=\"text\" id=\"topic-title\" value={topicTitle} onChange={e => setTopicTitle(e.target.value)} onBlur={e => setTopicTitle(e.target.value.trim())} />\n      <label htmlFor=\"message\">Прва порука:</label>\n      <input className={styles.input} type=\"text\" id=\"message\" value={message} onChange={e => setMessage(e.target.value)} onBlur={e => setMessage(e.target.value.trim())} />\n      <p className={styles.infoMessage}>{infoMessage}</p>\n      <input className={styles.button} type=\"submit\" value=\"Додај тему\" onClick={handleClick} />\n    </form>\n  );\n};\n\nexport default NewTopic;","import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { getUser } from '../utilities/user';\n\nconst ProtectedRoute = ({ render: RenderedComponent, ...rest }) => {\n  return (\n    <Route {...rest} render={(props) => {\n      return (\n        <>\n          {\n            Object.keys(getUser()).length === 0\n              ? <Redirect to=\"/\" />\n              : <RenderedComponent {...props} />\n          }\n        </>\n      );\n    }} />\n  );\n};\n\nexport default ProtectedRoute;","import React from 'react';\nimport styles from './message.module.css';\nimport { Link } from 'react-router-dom';\n\nconst Message = ({ message }) => {\n  const datetime = new Date(message.timestamp);\n\n  return (\n    <div className={styles.message}>\n      <p className={styles.info}>\n        На дан {datetime.toLocaleDateString('sr-rs', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })} у {datetime.toLocaleTimeString('sr-rs')}, <Link to={`/profile/${message.user_id}`}> {message.username.toString()}</Link> је написао:\n      </p>\n      <br />\n      <p>{message.message.toString()}</p>\n    </div>\n  );\n};\n\nexport default Message;","import React, { useState } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport { getUserInfo, getAllMessages, getAllTopics } from '../utilities/services';\nimport Message from './message';\nimport styles from './profile.module.css';\n\nconst Profile = () => {\n  const history = useHistory();\n  const params = useParams();\n  const [userData, setUserData] = useState({});\n  const [userMessages, setUserMessages] = useState([]);\n  const [topics, setTopics] = useState([]);\n\n  useEffect(() => {\n    getUserInfo(params.user_id)\n      .then(data => {\n        if (data.success) {\n          setUserData(data.user);\n        }\n      });\n\n    getAllMessages()\n      .then(data => {\n        if (data.success) {\n          let tmp = data.data.filter(msg => msg.user_id === userData.user_id);\n          setUserMessages(tmp.reverse());\n        }\n      });\n\n    getAllTopics()\n      .then(data => {\n        if (data.success) {\n          setTopics(data.topics)\n        }\n      });\n  }, [params.user_id, userData.user_id]);\n\n  return (\n    <section>\n      <h3 className={styles.title}>Информације о кориснику</h3>\n      <div className={styles.userInfo}>\n        <div>\n          <h4>Корисничко име</h4>\n          <p>{userData.username}</p>\n        </div>\n        <div>\n          <h4>Име и презиме</h4>\n          <p>{userData.name} {userData.surname}</p>\n        </div>\n        <div>\n          <h4>Е-маил</h4>\n          <p>{userData.email}</p>\n        </div>\n        <div>\n          <h4>Бр. порука</h4>\n          <p>{userMessages.length}</p>\n        </div>\n      </div>\n      <h3 className={styles.title}>Поруке</h3>\n      {\n        userMessages.map(message => {\n          let topic = topics.find(topic => topic.topic_id === message.topic_id);\n          return (\n            <div className={styles.message} key={message.message_id}>\n              <h3 className={styles.topic} onClick={() => history.push(`/topic/${message.topic_id}`, { topic }\n              )}>{topic.title}</h3>\n              <Message message={message} />\n            </div>\n          );\n        })\n      }\n    </section >\n  );\n};\n\nexport default Profile;","import React, { useState } from 'react';\nimport { sendMessage } from '../utilities/services';\nimport { getUser } from '../utilities/user';\nimport styles from './new-message.module.css';\n\nconst NewMessage = ({ topic_id, setClick }) => {\n  const [message, setMessage] = useState('');\n  const [infoMessage, setInfoMessage] = useState('');\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    if (message.trim() !== '') {\n      sendMessage(getUser().username, topic_id, message)\n        .then(data => {\n          if (data.success === true) {\n            setMessage('');\n            setInfoMessage('Порука је успешно послата.');\n            setClick(new Date());\n          }\n        });\n    } else {\n      setInfoMessage('Напиши поруку.')\n    }\n  };\n\n  return (\n    <form className={styles.form}>\n      <h3>Одговори</h3>\n      <div className={styles.container}>\n        <label htmlFor=\"message\"></label>\n        <input type=\"text\" className={styles.input} placeholder=\"Унеси поруку\" value={message} onChange={e => setMessage(e.target.value)} />\n        <input type=\"submit\" className={styles.button} value=\"Пошаљи\" onClick={handleClick} />\n      </div>\n      <p className={styles.infoMessage}>{infoMessage}</p>\n    </form>\n  );\n};\n\nexport default NewMessage;","import React, { useState, useEffect } from 'react';\nimport { getTopicMessages } from '../utilities/services';\nimport Message from './message';\nimport NewMessage from './new-message';\nimport { getUser } from '../utilities/user';\nimport styles from './topic.module.css';\n\nconst Topic = ({ location }) => {\n  const [click, setClick] = useState(new Date());\n  const [messages, setMessages] = useState([]);\n  const [isLoggedIn, setIsLoggedIn] = useState(\n    Object.keys(getUser()).length !== 0\n  );\n\n  useEffect(() => {\n    let i = setInterval(() => setIsLoggedIn(\n      Object.keys(getUser()).length !== 0\n    ), 500);\n\n    return clearInterval(i);\n  }, []);\n\n  useEffect(() => {\n    getTopicMessages(location.state.topic.topic_id)\n      .then(data => {\n        if (data.success === true) {\n          setMessages(data.messages.reverse());\n        }\n      });\n  }, [location.state.topic.topic_id, click]);\n\n  return (\n    <section className={styles.topic}>\n      <div className={styles.titleContainer}>\n        <h2>{location.state.topic.title.toString()}</h2>\n        <p>Датум објављивања: {new Date(location.state.topic.timestamp).toLocaleString('sr-rs')}</p>\n      </div>\n      {\n        messages.map(message => <Message key={message.message_id} message={message} />)\n      }\n      <br />\n      {\n        isLoggedIn\n          ? <NewMessage topic_id={location.state.topic.topic_id} setClick={setClick} />\n          : ''\n      }\n    </section>\n  );\n};\n\nexport default Topic;","import React from 'react';\nimport styles from './welcome-message.module.css';\n\nconst WelcomeMessage = () => {\n  return (\n    <div className={styles.container}>\n      <h1>\n        Форум\n      </h1>\n      <br />\n      <p className={styles.text}>Добродошао на форум.</p>\n      <p className={styles.text}>Овде можеш наћи разне теме.</p>\n      <p className={styles.text}>Оне које те интересују и оне друге.</p>\n      <p className={styles.text}>Укључи се у расправу.</p>\n      <p className={styles.text}>Сазнај нешто ново и прошири видике.</p>\n      <p className={styles.text}>Региструј се бесплатно.</p>\n    </div>\n  );\n};\n\nexport default WelcomeMessage;","import React, { useState, useEffect } from 'react';\nimport { getAllUsers } from '../utilities/services';\nimport { useHistory } from 'react-router-dom';\nimport styles from './user-list.module.css';\n\nconst UserList = () => {\n  const history = useHistory();\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    getAllUsers()\n      .then(data => {\n        if (data.success) {\n          setUsers(data.users);\n        }\n      })\n  }, []);\n\n  return (\n    <div>\n      {\n        users.map(user => (\n          <div className={styles.container} key={user.user_id} onClick={() => history.push(`/profile/${user.user_id}`)}>\n            <h3>{user.username}</h3>\n            <p>{user.name} {user.surname}</p>\n          </div>\n        ))\n      }\n    </div>\n  );\n};\n\nexport default UserList;","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport styles from './content.module.css';\nimport Registration from '../components/registration';\nimport Login from '../components/login';\nimport TopicList from '../components/topic-list';\nimport NewTopic from '../components/new-topic';\nimport ProtectedRoute from '../components/protected-route';\nimport Profile from '../components/profile';\nimport Topic from '../components/topic';\nimport WelcomeMessage from '../components/welcome-message';\nimport UserList from '../components/user-list';\n\nexport default () => {\n  return (\n    <main className={styles.main}>\n      <Switch>\n        <Route exact path=\"/\">\n          <div className={styles.container}>\n            <Registration />\n            <WelcomeMessage />\n          </div>\n          <div>\n            <TopicList />\n          </div>\n        </Route>\n        <Route path=\"/registration\" component={Registration} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/profile/:user_id\" component={Profile} />\n        <Route path=\"/topic/:topic_id\" component={Topic} />\n        <Route path=\"/userlist\" component={UserList} />\n        <ProtectedRoute path=\"/topiclist\" render={(props) => {\n          return (\n            <div className={styles.topicContainer}>\n              <TopicList {...props} />\n              <NewTopic {...props} />\n            </div>\n          );\n        }} />\n      </Switch>\n    </main>\n  );\n};","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './footer.module.css';\n\nexport default () => {\n  return (\n    <footer className={styles.footer}>\n      <div>\n        <Link to=\"/registration\" className={styles.link}>Региструј се</Link>\n      </div>\n      <div>\n        <label>\n          &copy; ненад абрамовић 2020.\n      </label>\n      </div>\n      <div>\n        <p className={styles.link} onClick={() => window.scrollTo(0, 0)}>На врх</p>\n      </div>\n    </footer>\n  );\n};","import React from 'react';\nimport './App.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport Header from './layout/header';\nimport Content from './layout/content';\nimport Footer from './layout/footer';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Header />\n      <Content />\n      <Footer />\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}