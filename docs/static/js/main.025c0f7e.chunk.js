(this.webpackJsonpforum=this.webpackJsonpforum||[]).push([[0],[,,,,,function(e,t,a){e.exports={form:"registration_form__2QZlb",title:"registration_title__AGQOU",infoMessage:"registration_infoMessage__2979W",button:"registration_button__2tQkW",input:"registration_input__1RKhR"}},,,,,,function(e,t,a){e.exports={container:"welcome-message_container__2fH2E",text:"welcome-message_text__2u-O-"}},function(e,t,a){e.exports={container:"login_container__2sfGJ",infoMessage:"login_infoMessage__3ytZJ",input:"login_input__3J825",button:"login_button__2l1WW"}},function(e,t,a){e.exports={navigation:"navigation_navigation__1we06",link:"navigation_link__wgqQX"}},function(e,t,a){e.exports={topicList:"topic-list_topicList__3h4iv",controls:"topic-list_controls__1E68C",title:"topic-list_title__Z6Day",select:"topic-list_select__3sL_I",button:"topic-list_button__VMU40"}},function(e,t,a){e.exports={form:"new-topic_form__1yqTn",infoMessage:"new-topic_infoMessage__XhYrh",input:"new-topic_input__11rw3",button:"new-topic_button__G2YkO"}},function(e,t,a){e.exports={message:"profile_message__1VhH4",userInfo:"profile_userInfo__2hXgE",title:"profile_title__1F3Fm",topic:"profile_topic__2Nm17"}},function(e,t,a){e.exports={form:"new-message_form__2mzK9",infoMessage:"new-message_infoMessage__Ww_ZN",input:"new-message_input__37WxQ",button:"new-message_button__12mAS",container:"new-message_container__1XfZK"}},,function(e,t,a){e.exports={main:"content_main__2YHpf",container:"content_container__1ms4z",topicContainer:"content_topicContainer__2wuuj"}},,function(e,t,a){e.exports={footer:"footer_footer__2jeHA",link:"footer_link__3tKm7"}},,function(e,t,a){e.exports={header:"header_header__3_vZA",title:"header_title__KjB3w"}},,,function(e,t,a){e.exports={message:"message_message__4BRat",info:"message_info__3Q0dT"}},function(e,t,a){e.exports={topic:"topic_topic__3wczx",titleContainer:"topic_titleContainer__3BzJT"}},,,,,,,,function(e,t,a){e.exports={container:"user-list_container__3eHCN"}},function(e,t,a){e.exports=a(48)},,,,,function(e,t,a){},,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(31),s=a.n(r),l=(a(41),a(3)),o=a(23),i=a.n(o),u=a(1),m=a(10),p=window.localStorage.getItem("user"),f=null===p?{}:JSON.parse(p),E=[],_=function(){return f},b=function(e){f=e,window.localStorage.setItem("user",JSON.stringify(f)),E.forEach((function(e){return e()}))},g=a(13),d=a.n(g),h="https://coetus.herokuapp.com",v="/api/forum",j=function(){return fetch("".concat(h).concat(v).concat("/users")).then((function(e){return e.json()}))},O=function(){return fetch("".concat(h).concat(v).concat("/message")).then((function(e){return e.json()}))},N=function(e,t,a){return fetch("".concat(h).concat(v).concat("/message"),{headers:{"Content-Type":"application/json; charset=utf-8"},method:"PUT",body:JSON.stringify({username:e,topic_id:t,message:a})}).then((function(e){return e.json()}))},w=function(){return fetch("".concat(h).concat(v).concat("/topics")).then((function(e){return e.json()}))},y=a(12),S=a.n(y),k=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),l=Object(u.a)(s,2),o=l[0],i=l[1],m=Object(n.useState)(""),p=Object(u.a)(m,2),f=p[0],E=p[1];return c.a.createElement("form",{className:S.a.form},c.a.createElement("div",{className:S.a.container},c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"login-username"}),c.a.createElement("input",{type:"text",className:S.a.input,id:"login-username",placeholder:"Enter username",value:a,onChange:function(e){return r(e.target.value)},onBlur:function(e){return r(e.target.value.trim())}})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"login-password"}),c.a.createElement("input",{type:"password",className:S.a.input,id:"login-password",placeholder:"Enter password",value:o,onChange:function(e){return i(e.target.value)},onBlur:function(e){return i(e.target.value.trim())}})),c.a.createElement("input",{type:"submit",className:S.a.button,value:"\u041f\u0440\u0438\u0458\u0430\u0432\u0438 \u0441\u0435",onClick:function(e){return e.preventDefault(),""===a&&""===o?E("\u0423\u043d\u0435\u0441\u0438 \u043a\u043e\u0440\u0438\u0441\u043d\u0438\u0447\u043a\u043e \u0438\u043c\u0435 \u0438 \u0448\u0438\u0444\u0440\u0443."):""===a?E("\u0423\u043d\u0435\u0441\u0438 \u043a\u043e\u0440\u0438\u0441\u043d\u0438\u0447\u043a\u043e \u0438\u043c\u0435."):""===o?E("\u0423\u043d\u0435\u0441\u0438 \u0448\u0438\u0444\u0440\u0443."):void(t={username:a,password:o},fetch("".concat(h).concat(v).concat("/users"),{headers:{"Content-Type":"application/json; charset=utf-8"},method:"POST",body:JSON.stringify(t)}).then((function(e){return e.json()}))).then((function(e){!0===e.success?(b(e.user),E("")):E("\u041f\u043e\u0433\u0440\u0435\u0448\u043d\u043e \u043a\u043e\u0440\u0438\u0441\u043d\u0438\u0447\u043a\u043e \u0438\u043c\u0435 \u0438\u043b\u0438 \u0448\u0438\u0444\u0440\u0430")})).catch((function(e){return E("\u0413\u0420\u0415\u0428\u041a\u0410: ".concat(e.toString()))}));var t}})),c.a.createElement("p",{className:S.a.infoMessage},f))},x=function(){var e=Object(m.g)(),t=Object(n.useState)(0!==Object.keys(_()).length),a=Object(u.a)(t,2),r=a[0],s=a[1];Object(n.useEffect)((function(){var t;t=function(){s(0!==Object.keys(_()).length),e.push("/topiclist")},E.push(t)}),[e]);return r?c.a.createElement("nav",null,c.a.createElement("ul",{className:d.a.navigation},c.a.createElement("li",null,c.a.createElement(l.b,{to:"/topiclist",className:d.a.link},"\u0422\u0435\u043c\u0435")),c.a.createElement("li",null,c.a.createElement(l.b,{to:"/profile/".concat(_().user_id),className:d.a.link},"\u041f\u0440\u043e\u0444\u0438\u043b")),c.a.createElement("li",null,c.a.createElement(l.b,{to:"/userlist",className:d.a.link},"\u041a\u043e\u0440\u0438\u0441\u043d\u0438\u0446\u0438")),c.a.createElement("li",null,c.a.createElement(l.b,{to:"/",onClick:function(){b({})},className:d.a.link},"\u041e\u0434\u0458\u0430\u0432\u0438 \u0441\u0435")))):c.a.createElement(k,null)},C=function(){return c.a.createElement("header",{className:i.a.header},c.a.createElement("h1",null,c.a.createElement(l.b,{to:"/",className:i.a.title},"\u0424\u043e\u0440\u0443\u043c")),c.a.createElement(x,null))},M=a(19),D=a.n(M),F=a(2),T=a(5),J=a.n(T),L=function(){var e=Object(m.g)(),t=Object(n.useState)({name:"",surname:"",username:"",email:"",password:""}),a=Object(u.a)(t,2),r=a[0],s=a[1],l=Object(n.useState)(""),o=Object(u.a)(l,2),i=o[0],p=o[1],f=Object(n.useState)({name:"",surname:"",username:"",email:"",password:"",confirmPassword:""}),E=Object(u.a)(f,2),_=E[0],g=E[1],d=Object(n.useState)([]),O=Object(u.a)(d,2),N=O[0],w=O[1];Object(n.useEffect)((function(){j().then((function(e){e.success&&w(e.users)}))}),[]);return c.a.createElement("form",{className:J.a.form,onSubmit:function(t){var a=!0;t.preventDefault(),""===r.name.trim()&&(g((function(e){return Object(F.a)({},e,{name:"\u0423\u043d\u0435\u0441\u0438 \u0438\u043c\u0435."})})),a=!1),""===r.surname.trim()&&(g((function(e){return Object(F.a)({},e,{surname:"\u0423\u043d\u0435\u0441\u0438 \u043f\u0440\u0435\u0437\u0438\u043c\u0435."})})),a=!1),""===r.username.trim()&&(g((function(e){return Object(F.a)({},e,{username:"\u0423\u043d\u0435\u0441\u0438 \u043a\u043e\u0440\u0438\u0441\u043d\u0438\u0447\u043a\u043e \u0438\u043c\u0435."})})),a=!1),""===r.email.trim()&&(g((function(e){return Object(F.a)({},e,{email:"\u0423\u043d\u0435\u0441\u0438 \u0435\u043c\u0430\u0438\u043b."})})),a=!1),""===r.password.trim()&&(g((function(e){return Object(F.a)({},e,{password:"\u041d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u0430 \u0448\u0438\u0444\u0440\u0430! \u0428\u0438\u0444\u0440\u0430 \u043c\u043e\u0440\u0430 \u0441\u0430\u0434\u0440\u0436\u0430\u0442\u0438 \u0458\u0435\u0434\u043d\u043e \u043c\u0430\u043b\u043e, \u0432\u0435\u043b\u0438\u043a\u043e \u0441\u043b\u043e\u0432\u043e \u0438 \u0431\u0440\u043e\u0458 \u0438 \u0438\u043c\u0430\u0442\u0438 \u0431\u0430\u0440 8 \u043a\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0430."})})),a=!1),r.password!==i&&(g((function(e){return Object(F.a)({},e,{confirmPassword:"\u0428\u0438\u0444\u0440\u0435 \u043d\u0438\u0441\u0443 \u0438\u0441\u0442\u0435."})})),a=!1),a&&function(e){return fetch("".concat(h).concat(v).concat("/users"),{headers:{"Content-Type":"application/json; charset=utf-8"},method:"PUT",body:JSON.stringify(e)}).then((function(e){return e.json()}))}(r).then((function(t){t.success&&(b(t.user),e.push("/topiclist"))}))}},c.a.createElement("h2",{className:J.a.title},"\u041f\u0440\u0438\u0434\u0440\u0443\u0436\u0438 \u0441\u0435"),c.a.createElement("label",{htmlFor:"name"},"\u0418\u043c\u0435: ",c.a.createElement("span",{className:J.a.infoMessage},_.name)),c.a.createElement("br",null),c.a.createElement("input",{className:J.a.input,type:"text",id:"name",value:r.name,onChange:function(e){return t=e.target.value,s(Object(F.a)({},r,{name:t.trim()})),void(""===t.trim()?g(Object(F.a)({},_,{name:"\u0423\u043d\u0435\u0441\u0438 \u0438\u043c\u0435."})):g(Object(F.a)({},_,{name:""})));var t}}),c.a.createElement("br",null),c.a.createElement("label",{htmlFor:"surname"},"\u041f\u0440\u0435\u0437\u0438\u043c\u0435: ",c.a.createElement("span",{className:J.a.infoMessage},_.surname)),c.a.createElement("br",null),c.a.createElement("input",{className:J.a.input,type:"text",id:"surname",value:r.surname,onChange:function(e){return t=e.target.value,s(Object(F.a)({},r,{surname:t.trim()})),void(""===t.trim()?g(Object(F.a)({},_,{surname:"\u0423\u043d\u0435\u0441\u0438 \u043f\u0440\u0435\u0437\u0438\u043c\u0435."})):g(Object(F.a)({},_,{surname:""})));var t}}),c.a.createElement("br",null),c.a.createElement("label",{htmlFor:"username"},"\u041a\u043e\u0440\u0438\u0441\u043d\u0438\u0447\u043a\u043e \u0438\u043c\u0435: ",c.a.createElement("span",{className:J.a.infoMessage},_.username)),c.a.createElement("br",null),c.a.createElement("input",{className:J.a.input,type:"text",id:"username",value:r.username,onChange:function(e){var t;t=e.target.value,s(Object(F.a)({},r,{username:t.trim()})),""===t.trim()?g(Object(F.a)({},_,{username:"\u0423\u043d\u0435\u0441\u0438 \u043a\u043e\u0440\u0438\u0441\u043d\u0438\u0447\u043a\u043e \u0438\u043c\u0435."})):g(Object(F.a)({},_,{username:""})),function(e){if(void 0!==N.find((function(t){return t.username===e.target.value.trim()})))return g(Object(F.a)({},_,{username:"\u041a\u043e\u0440\u0438\u0441\u043d\u0438\u0447\u043a\u043e \u0438\u043c\u0435 \u0458\u0435 \u0437\u0430\u0443\u0437\u0435\u0442\u043e!"}));g(Object(F.a)({},_,{username:""}))}(e)}}),c.a.createElement("br",null),c.a.createElement("label",{htmlFor:"email"},"\u0415-\u043c\u0430\u0438\u043b: ",c.a.createElement("span",{className:J.a.infoMessage},_.email)),c.a.createElement("br",null),c.a.createElement("input",{className:J.a.input,type:"email",id:"email",value:r.email,onChange:function(e){var t;t=e.target.value,s(Object(F.a)({},r,{email:t.trim()})),""===t.trim()?g(Object(F.a)({},_,{email:"\u0423\u043d\u0435\u0441\u0438 \u0435-\u043c\u0430\u0438\u043b."})):g(Object(F.a)({},_,{email:""})),function(e){if(void 0!==N.find((function(t){return t.email===e.target.value.trim()})))return g(Object(F.a)({},_,{email:"\u0415-\u043c\u0430\u0438\u043b \u0458\u0435 \u0432\u0435\u045b \u0443 \u0443\u043f\u043e\u0442\u0440\u0435\u0431\u0438!"}));g(Object(F.a)({},_,{email:""}))}(e)}}),c.a.createElement("br",null),c.a.createElement("label",{htmlFor:"password"},"\u0428\u0438\u0444\u0440\u0430: ",c.a.createElement("span",{className:J.a.infoMessage},_.password)),c.a.createElement("br",null),c.a.createElement("input",{className:J.a.input,type:"password",id:"password",value:r.password,onChange:function(e){return s(Object(F.a)({},r,{password:e.target.value}))},onBlur:function(e){return t=e.target.value.trim(),void(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/.test(t)?g(Object(F.a)({},_,{password:""})):g(Object(F.a)({},_,{password:"\u041d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u0430 \u0448\u0438\u0444\u0440\u0430! \u0428\u0438\u0444\u0440\u0430 \u043c\u043e\u0440\u0430 \u0441\u0430\u0434\u0440\u0436\u0430\u0442\u0438 \u0458\u0435\u0434\u043d\u043e \u043c\u0430\u043b\u043e, \u0432\u0435\u043b\u0438\u043a\u043e \u0441\u043b\u043e\u0432\u043e \u0438 \u0431\u0440\u043e\u0458 \u0438 \u0438\u043c\u0430\u0442\u0438 \u0431\u0430\u0440 8 \u043a\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0430."})));var t}}),c.a.createElement("br",null),c.a.createElement("label",{htmlFor:"confirm-password"},"\u041f\u043e\u043d\u043e\u0432\u0438 \u0448\u0438\u0444\u0440\u0443: ",c.a.createElement("span",{className:J.a.infoMessage},_.confirmPassword)),c.a.createElement("br",null),c.a.createElement("input",{className:J.a.input,type:"password",id:"confirm-password",value:i,onChange:function(e){!function(e){p(e.trim()),e.trim()!==r.password?g(Object(F.a)({},_,{confirmPassword:"\u0428\u0438\u0444\u0440\u0435 \u043d\u0438\u0441\u0443 \u0438\u0441\u0442\u0435."})):g(Object(F.a)({},_,{confirmPassword:""}))}(e.target.value)}}),c.a.createElement("br",null),c.a.createElement("input",{className:J.a.button,type:"submit",value:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0443\u0458 \u0441\u0435!"}))},I=a(28),B=a(20),P=a.n(B),Z=a(14),Q=a.n(Z),W=function(){var e=Object(m.g)(),t=Object(n.useState)([]),a=Object(u.a)(t,2),r=a[0],s=a[1];Object(n.useEffect)((function(){!function(){var e,t,a;P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,P.a.awrap(w());case 2:return e=n.sent,n.next=5,P.a.awrap(O());case 5:t=n.sent,e.success&&(a=e.topics.map((function(e){if(t.success){var a=t.data.filter((function(t){return t.topic_id===e.topic_id}));return a=a.sort((function(e,t){return e.timestamp-t.timestamp})),Object(F.a)({},e,{no_of_messages:a.length,first_message:a[0]||{},last_message:a[a.length-1]||{}})}return{}})),s(a));case 7:case"end":return n.stop()}}))}()}),[]);return c.a.createElement("section",{className:Q.a.topicList},c.a.createElement("div",{className:Q.a.controls},c.a.createElement("h2",{className:Q.a.title},"\u0422\u0435\u043c\u0435"),c.a.createElement("div",null,c.a.createElement("select",{className:Q.a.select,onChange:function(e){var t=Object(I.a)(r);switch(e.target.value){case"date-created":s(t.sort((function(e,t){return t.timestamp-e.timestamp})));break;case"last-comment":s(t.sort((function(e,t){return e.last_message.timestamp?t.last_message.timestamp?t.last_message.timestamp-e.last_message.timestamp:-1:1})));break;case"number-of-comments":s(t.sort((function(e,t){return t.no_of_messages-e.no_of_messages})));break;default:console.log("Something went wrong!")}}},c.a.createElement("option",{value:"date-created"},"\u0414\u0430\u0442\u0443\u043c \u043e\u0431\u0458\u0430\u0432\u0459\u0438\u0432\u0430\u045a\u0430"),c.a.createElement("option",{value:"last-comment"},"\u041f\u043e\u0441\u043b\u0435\u0434\u045a\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0441\u0430\u043d\u043e"),c.a.createElement("option",{value:"number-of-comments"},"\u0411\u0440\u043e\u0458 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0430")),c.a.createElement("button",{className:Q.a.button,onClick:function(){var e=Object(I.a)(r);s(e.reverse())}},"\u21c5"))),c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"\u041d\u0430\u0441\u043b\u043e\u0432"),c.a.createElement("th",null,"\u0414\u0430\u0442\u0443\u043c \u043f\u0440\u0430\u0432\u0459\u0435\u045a\u0430"),c.a.createElement("th",null,"\u041f\u043e\u0441\u043b\u0435\u0434\u045a\u0430 \u043f\u043e\u0440\u0443\u043a\u0430"),c.a.createElement("th",null,"\u0411\u0440\u043e\u0458 \u043f\u043e\u0440\u0443\u043a\u0430"),c.a.createElement("th",null,"\u041f\u0440\u0432\u0430 \u043f\u043e\u0440\u0443\u043a\u0430"))),c.a.createElement("tbody",null,r.map((function(t){return c.a.createElement("tr",{key:t.topic_id,onClick:function(){return e.push("/topic/".concat(t.topic_id),{topic:t})}},c.a.createElement("td",null,t.title.toString()),c.a.createElement("td",null,new Date(t.timestamp).toLocaleString("sr-rs")),c.a.createElement("td",null,t.last_message.username,c.a.createElement("br",null),"Invalid Date"===new Date(t.last_message.timestamp).toLocaleString()?"\u041d\u0435\u043c\u0430 \u043f\u043e\u0440\u0443\u043a\u0430":new Date(t.first_message.timestamp).toLocaleString("sr-rs")),c.a.createElement("td",null,t.no_of_messages),c.a.createElement("td",null,t.first_message.username,c.a.createElement("br",null),"Invalid Date"===new Date(t.first_message.timestamp).toLocaleString()?"\u041d\u0435\u043c\u0430 \u043f\u043e\u0440\u0443\u043a\u0430":new Date(t.first_message.timestamp).toLocaleString("sr-rs")))})))))},z=a(15),A=a.n(z),H=function(){var e=Object(m.g)(),t=Object(n.useState)(""),a=Object(u.a)(t,2),r=a[0],s=a[1],l=Object(n.useState)(""),o=Object(u.a)(l,2),i=o[0],p=o[1],f=Object(n.useState)(""),E=Object(u.a)(f,2),b=E[0],g=E[1];return c.a.createElement("form",{className:A.a.form},c.a.createElement("h4",null,"\u0414\u043e\u0434\u0430\u0458 \u043d\u043e\u0432\u0443 \u0442\u0435\u043c\u0443"),c.a.createElement("label",{htmlFor:"topic-title"},"\u041d\u0430\u0441\u043b\u043e\u0432:"),c.a.createElement("input",{className:A.a.input,type:"text",id:"topic-title",value:r,onChange:function(e){return s(e.target.value)},onBlur:function(e){return s(e.target.value.trim())}}),c.a.createElement("label",{htmlFor:"message"},"\u041f\u0440\u0432\u0430 \u043f\u043e\u0440\u0443\u043a\u0430:"),c.a.createElement("input",{className:A.a.input,type:"text",id:"message",value:i,onChange:function(e){return p(e.target.value)},onBlur:function(e){return p(e.target.value.trim())}}),c.a.createElement("p",{className:A.a.infoMessage},b),c.a.createElement("input",{className:A.a.button,type:"submit",value:"\u0414\u043e\u0434\u0430\u0458 \u0442\u0435\u043c\u0443",onClick:function(t){return t.preventDefault(),""===i&&""===r?g("\u0423\u043d\u0435\u0441\u0438 \u043d\u0430\u0441\u043b\u043e\u0432 \u0442\u0435\u043c\u0435 \u0438 \u043f\u0440\u0432\u0443 \u043f\u043e\u0440\u0443\u043a\u0443."):""===i?g("\u0423\u043d\u0435\u0441\u0438 \u043f\u0440\u0432\u0443 \u043f\u043e\u0440\u0443\u043a\u0443."):""===r?g("\u0423\u043d\u0435\u0441\u0438 \u043d\u0430\u0441\u043b\u043e\u0432 \u0442\u0435\u043c\u0435."):void(a=_().user_id,n=r,fetch("".concat(h).concat(v).concat("/topics"),{headers:{"Content-Type":"application/json; charset=utf-8"},method:"PUT",body:JSON.stringify({user_id:a,title:n})}).then((function(e){return e.json()}))).then((function(t){t.success&&N(_().username,t.topic.topic_id,i).then((function(a){a.success&&e.push({pathname:"/topic/".concat(t.topic.topic_id),state:{topic:t.topic}})}))}));var a,n}}))},K=a(34),U=function(e){var t=e.render,a=Object(K.a)(e,["render"]);return c.a.createElement(m.b,Object.assign({},a,{render:function(e){return c.a.createElement(c.a.Fragment,null,0===Object.keys(_()).length?c.a.createElement(m.a,{to:"/"}):c.a.createElement(t,e))}}))},X=a(26),G=a.n(X),R=function(e){var t=e.message,a=new Date(t.timestamp);return c.a.createElement("div",{className:G.a.message},c.a.createElement("p",{className:G.a.info},"\u041d\u0430 \u0434\u0430\u043d ",a.toLocaleDateString("sr-rs",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," \u0443 ",a.toLocaleTimeString("sr-rs"),", ",c.a.createElement(l.b,{to:"/profile/".concat(t.user_id)}," ",t.username.toString())," \u0458\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u043e:"),c.a.createElement("br",null),c.a.createElement("p",null,t.message.toString()))},Y=a(16),q=a.n(Y),V=function(){var e=Object(m.g)(),t=Object(m.h)(),a=Object(n.useState)({}),r=Object(u.a)(a,2),s=r[0],l=r[1],o=Object(n.useState)([]),i=Object(u.a)(o,2),p=i[0],f=i[1],E=Object(n.useState)([]),_=Object(u.a)(E,2),b=_[0],g=_[1];return Object(n.useEffect)((function(){var e;(e=t.user_id,fetch("".concat(h).concat(v).concat("/users","/").concat(e)).then((function(e){return e.json()}))).then((function(e){e.success&&l(e.user)})),O().then((function(e){if(e.success){var t=e.data.filter((function(e){return e.user_id===s.user_id}));f(t.reverse())}})),w().then((function(e){e.success&&g(e.topics)}))}),[t.user_id,s.user_id]),c.a.createElement("section",null,c.a.createElement("h3",{className:q.a.title},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0458\u0435 \u043e \u043a\u043e\u0440\u0438\u0441\u043d\u0438\u043a\u0443"),c.a.createElement("div",{className:q.a.userInfo},c.a.createElement("div",null,c.a.createElement("h4",null,"\u041a\u043e\u0440\u0438\u0441\u043d\u0438\u0447\u043a\u043e \u0438\u043c\u0435"),c.a.createElement("p",null,s.username)),c.a.createElement("div",null,c.a.createElement("h4",null,"\u0418\u043c\u0435 \u0438 \u043f\u0440\u0435\u0437\u0438\u043c\u0435"),c.a.createElement("p",null,s.name," ",s.surname)),c.a.createElement("div",null,c.a.createElement("h4",null,"\u0415-\u043c\u0430\u0438\u043b"),c.a.createElement("p",null,s.email)),c.a.createElement("div",null,c.a.createElement("h4",null,"\u0411\u0440. \u043f\u043e\u0440\u0443\u043a\u0430"),c.a.createElement("p",null,p.length))),c.a.createElement("h3",{className:q.a.title},"\u041f\u043e\u0440\u0443\u043a\u0435"),p.map((function(t){var a=b.find((function(e){return e.topic_id===t.topic_id}));return c.a.createElement("div",{className:q.a.message,key:t.message_id},c.a.createElement("h3",{className:q.a.topic,onClick:function(){return e.push("/topic/".concat(t.topic_id),{topic:a})}},a.title),c.a.createElement(R,{message:t}))})))},$=a(17),ee=a.n($),te=function(e){var t=e.topic_id,a=e.setClick,r=Object(n.useState)(""),s=Object(u.a)(r,2),l=s[0],o=s[1],i=Object(n.useState)(""),m=Object(u.a)(i,2),p=m[0],f=m[1];return c.a.createElement("form",{className:ee.a.form},c.a.createElement("h3",null,"\u041e\u0434\u0433\u043e\u0432\u043e\u0440\u0438"),c.a.createElement("div",{className:ee.a.container},c.a.createElement("label",{htmlFor:"message"}),c.a.createElement("input",{type:"text",className:ee.a.input,placeholder:"\u0423\u043d\u0435\u0441\u0438 \u043f\u043e\u0440\u0443\u043a\u0443",value:l,onChange:function(e){return o(e.target.value)}}),c.a.createElement("input",{type:"submit",className:ee.a.button,value:"\u041f\u043e\u0448\u0430\u0459\u0438",onClick:function(e){e.preventDefault(),""!==l.trim()?N(_().username,t,l).then((function(e){!0===e.success&&(o(""),f("\u041f\u043e\u0440\u0443\u043a\u0430 \u0458\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u043e\u0441\u043b\u0430\u0442\u0430."),a(new Date))})):f("\u041d\u0430\u043f\u0438\u0448\u0438 \u043f\u043e\u0440\u0443\u043a\u0443.")}})),c.a.createElement("p",{className:ee.a.infoMessage},p))},ae=a(27),ne=a.n(ae),ce=function(e){var t=e.location,a=Object(n.useState)(new Date),r=Object(u.a)(a,2),s=r[0],l=r[1],o=Object(n.useState)([]),i=Object(u.a)(o,2),m=i[0],p=i[1],f=Object(n.useState)(0!==Object.keys(_()).length),E=Object(u.a)(f,2),b=E[0],g=E[1];return Object(n.useEffect)((function(){var e=setInterval((function(){return g(0!==Object.keys(_()).length)}),500);return clearInterval(e)}),[]),Object(n.useEffect)((function(){var e;(e=t.state.topic.topic_id,fetch("".concat(h).concat(v).concat("/message","/").concat(e)).then((function(e){return e.json()}))).then((function(e){!0===e.success&&p(e.messages.reverse())}))}),[t.state.topic.topic_id,s]),c.a.createElement("section",{className:ne.a.topic},c.a.createElement("div",{className:ne.a.titleContainer},c.a.createElement("h2",null,t.state.topic.title.toString()),c.a.createElement("p",null,"\u0414\u0430\u0442\u0443\u043c \u043e\u0431\u0458\u0430\u0432\u0459\u0438\u0432\u0430\u045a\u0430: ",new Date(t.state.topic.timestamp).toLocaleString("sr-rs"))),m.map((function(e){return c.a.createElement(R,{key:e.message_id,message:e})})),c.a.createElement("br",null),b?c.a.createElement(te,{topic_id:t.state.topic.topic_id,setClick:l}):"")},re=a(11),se=a.n(re),le=function(){return c.a.createElement("div",{className:se.a.container},c.a.createElement("h1",null,"\u0424\u043e\u0440\u0443\u043c"),c.a.createElement("br",null),c.a.createElement("p",{className:se.a.text},"\u0414\u043e\u0431\u0440\u043e\u0434\u043e\u0448\u0430\u043e \u043d\u0430 \u0444\u043e\u0440\u0443\u043c."),c.a.createElement("p",{className:se.a.text},"\u041e\u0432\u0434\u0435 \u043c\u043e\u0436\u0435\u0448 \u043d\u0430\u045b\u0438 \u0440\u0430\u0437\u043d\u0435 \u0442\u0435\u043c\u0435."),c.a.createElement("p",{className:se.a.text},"\u041e\u043d\u0435 \u043a\u043e\u0458\u0435 \u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0458\u0443 \u0438 \u043e\u043d\u0435 \u0434\u0440\u0443\u0433\u0435."),c.a.createElement("p",{className:se.a.text},"\u0423\u043a\u0459\u0443\u0447\u0438 \u0441\u0435 \u0443 \u0440\u0430\u0441\u043f\u0440\u0430\u0432\u0443."),c.a.createElement("p",{className:se.a.text},"\u0421\u0430\u0437\u043d\u0430\u0458 \u043d\u0435\u0448\u0442\u043e \u043d\u043e\u0432\u043e \u0438 \u043f\u0440\u043e\u0448\u0438\u0440\u0438 \u0432\u0438\u0434\u0438\u043a\u0435."),c.a.createElement("p",{className:se.a.text},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0443\u0458 \u0441\u0435 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e."))},oe=a(35),ie=a.n(oe),ue=function(){var e=Object(m.g)(),t=Object(n.useState)([]),a=Object(u.a)(t,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){j().then((function(e){e.success&&s(e.users)}))}),[]),c.a.createElement("div",null,r.map((function(t){return c.a.createElement("div",{className:ie.a.container,key:t.user_id,onClick:function(){return e.push("/profile/".concat(t.user_id))}},c.a.createElement("h3",null,t.username),c.a.createElement("p",null,t.name," ",t.surname))})))},me=function(){return c.a.createElement("main",{className:D.a.main},c.a.createElement(m.d,null,c.a.createElement(m.b,{exact:!0,path:"/"},c.a.createElement("div",{className:D.a.container},c.a.createElement(L,null),c.a.createElement(le,null)),c.a.createElement("div",null,c.a.createElement(W,null))),c.a.createElement(m.b,{path:"/registration",component:L}),c.a.createElement(m.b,{path:"/login",component:k}),c.a.createElement(m.b,{path:"/profile/:user_id",component:V}),c.a.createElement(m.b,{path:"/topic/:topic_id",component:ce}),c.a.createElement(m.b,{path:"/userlist",component:ue}),c.a.createElement(U,{path:"/topiclist",render:function(e){return c.a.createElement("div",{className:D.a.topicContainer},c.a.createElement(W,e),c.a.createElement(H,e))}})))},pe=a(21),fe=a.n(pe),Ee=function(){return c.a.createElement("footer",{className:fe.a.footer},c.a.createElement("div",null,c.a.createElement(l.b,{to:"/registration",className:fe.a.link},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0443\u0458 \u0441\u0435")),c.a.createElement("div",null,c.a.createElement("label",null,"\xa9 \u043d\u0435\u043d\u0430\u0434 \u0430\u0431\u0440\u0430\u043c\u043e\u0432\u0438\u045b 2020.")),c.a.createElement("div",null,c.a.createElement("p",{className:fe.a.link,onClick:function(){return window.scrollTo(0,0)}},"\u041d\u0430 \u0432\u0440\u0445")))};var _e=function(){return c.a.createElement(l.a,null,c.a.createElement(C,null),c.a.createElement(me,null),c.a.createElement(Ee,null))};s.a.render(c.a.createElement(_e,null),document.getElementById("root"))}],[[36,1,2]]]);
//# sourceMappingURL=main.025c0f7e.chunk.js.map